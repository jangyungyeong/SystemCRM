<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jafa.repository.product.ProductRepository">
	<select id="list" resultType="product">
		select * from Product_tbl where categoryId=#{categoryId}
	</select>
	
	<select id="productInfo" resultType="productdto">
		select 
		    p.productId,
		    (select categoryName from pdCategory_tbl where categoryId = c.parentCategoryId) as parentCategoryName,
		    c.categoryName,
		    p.productName,
		    p.productNumber,
		    p.price
		from Product_tbl p, pdCategory_tbl c
		where
		    c.categoryId = p.categoryId and p.productId=#{productId}
	</select>
</mapper>